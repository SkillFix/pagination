const e={headers:{Authorization:"74b2bcb2578b464895f11a0434bf7741"}};const t={searchForm:document.querySelector("#search-form"),articlesContainer:document.querySelector(".articles__container"),loadMore:document.querySelector("[data-action=load-more]")},r=new class{get query(){return this.searchQuery}set query(e){this.searchQuery=e}fetchArticles(){const t=`https://newsapi.org/v2/everything?q=${this.searchQuery}&pageSize=10&page=${this.page}`;return fetch(t,e).then((e=>e.json())).then((({articles:e})=>(this.page+=1,e))).catch((e=>console.log(e)))}resetPage(){this.page=1}constructor(){this.searchQuery="",this.page=1}},s=new class{getRefs(e){const t={};return t.button=document.querySelector(e),t.label=t.button.querySelector(".label"),t}hide(){this.refs.button.classList.add("is-hidden")}show(){this.refs.button.classList.remove("is-hidden")}disable(){this.refs.label.textContent="Загружаем...",this.refs.button.disabled=!0}enable(){this.refs.label.textContent="Показать еще",this.refs.button.disabled=!1}constructor({selector:e,hidden:t=!1}){this.refs=this.getRefs(e),t&&this.hide()}}({selector:"[data-action=load-more]",hidden:!0});function n(){s.disable(),r.fetchArticles().then((e=>{!function(e){const r=e.map((e=>`<li>\n           <a href="${e.url}" >\n              <article>\n                <img src="${e.urlToImage}" alt="" width="480" class='img-articles'/>\n                <h2>${e.title}</h2>\n                <p>Posted By: ${e.author}</p>\n                <p>${e.description}</p>\n              </article>\n            </a>\n          </li>`)).join("");t.articlesContainer.insertAdjacentHTML("beforeend",r)}(e),s.enable()}))}s.enable(),t.searchForm.addEventListener("submit",(function(e){if(e.preventDefault(),r.query=e.currentTarget.elements.query.value,""===r.query)return alert("Введите запрос для поиска");s.show(),r.resetPage(),t.articlesContainer.innerHTML="",n()})),t.loadMore.addEventListener("click",n);
//# sourceMappingURL=index.15df3bac.js.map
