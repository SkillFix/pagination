{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_create_class.js","src/news-service.js","<<jsx-config-pragma.js>>","src/load-more-btn.js","src/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","const API_KEY = '74b2bcb2578b464895f11a0434bf7741';\n// '0e64de205f82404ba9ad7b5c68460307',\nconst BASE_URL = 'https://newsapi.org/v2';\nconst options = {\n  headers: {\n    Authorization: API_KEY,\n  },\n};\n\nexport default class NewsApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n\n  fetchArticles() {\n    const URL = `${BASE_URL}/everything?q=${this.searchQuery}&pageSize=10&page=${this.page}`;\n\n    return fetch(URL, options)\n      .then(response => response.json())\n      .then(({ articles }) => {\n        this.page += 1;\n        return articles;\n      })\n      .catch(error => console.log(error));\n  }\n  resetPage() {\n    this.page = 1;\n  }\n}\n",null,"export default class LoadMoreBtn {\n  constructor({ selector, hidden = false }) {\n    this.refs = this.getRefs(selector);\n    hidden && this.hide();\n  }\n  getRefs(selector) {\n    const refs = {};\n    refs.button = document.querySelector(selector);\n    refs.label = refs.button.querySelector('.label');\n    return refs;\n  }\n  hide() {\n    this.refs.button.classList.add('is-hidden');\n  }\n  show() {\n    this.refs.button.classList.remove('is-hidden');\n  }\n  disable() {\n    this.refs.label.textContent = 'Загружаем...';\n    this.refs.button.disabled = true;\n  }\n  enable() {\n    this.refs.label.textContent = 'Показать еще';\n    this.refs.button.disabled = false;\n  }\n}\n","import NewsApiService from './news-service';\nimport LoadMoreBtn from './load-more-btn';\n\nconst refs = {\n  searchForm: document.querySelector('#search-form'),\n  articlesContainer: document.querySelector('.articles__container'),\n  loadMore: document.querySelector('[data-action=load-more]'),\n};\n\nconst newsApiService = new NewsApiService();\nconst loadMoreBtn = new LoadMoreBtn({\n  selector: '[data-action=load-more]',\n  hidden: true,\n});\n\nloadMoreBtn.enable();\n\nrefs.searchForm.addEventListener('submit', onSearch);\nrefs.loadMore.addEventListener('click', fetchArticles);\n\nfunction onSearch(e) {\n  e.preventDefault();\n\n  newsApiService.query = e.currentTarget.elements.query.value;\n\n  if (newsApiService.query === '') {\n    return alert('Введите запрос для поиска');\n  }\n\n  loadMoreBtn.show();\n  newsApiService.resetPage();\n  refs.articlesContainer.innerHTML = '';\n  fetchArticles();\n}\n\nfunction fetchArticles() {\n  loadMoreBtn.disable();\n  newsApiService.fetchArticles().then(articles => {\n    renderMarkup(articles);\n    loadMoreBtn.enable();\n  });\n}\n\nfunction renderMarkup(articles) {\n  const markup = articles\n    .map(e => {\n      return `<li>\n           <a href=\"${e.url}\" >\n              <article>\n                <img src=\"${e.urlToImage}\" alt=\"\" width=\"480\" class='img-articles'/>\n                <h2>${e.title}</h2>\n                <p>Posted By: ${e.author}</p>\n                <p>${e.description}</p>\n              </article>\n            </a>\n          </li>`;\n    })\n    .join('');\n  refs.articlesContainer.insertAdjacentHTML('beforeend', markup);\n}\n"],"names":["Object","defineProperty","$665014edacbfe17b$exports","value","default","instance","Constructor","TypeError","$74e7f8130373505f$var$_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","$74e7f8130373505f$exports","protoProps","staticProps","prototype","$2654da422eef9a28$var$options","headers","Authorization","$2654da422eef9a28$export$2e2bcd8739ae039","NewsApiService","this","searchQuery","page","newQuery","URL","concat","fetch","then","response","json","param","articles","_this","catch","error","console","log","$f706c2b1070315bf$export$2e2bcd8739ae039","LoadMoreBtn","selector","_hidden","hidden","refs","getRefs","hide","button","document","querySelector","label","classList","add","remove","textContent","disabled","$b8f9b7833fa37166$var$refs","searchForm","articlesContainer","loadMore","$b8f9b7833fa37166$var$newsApiService","$b8f9b7833fa37166$var$loadMoreBtn","$b8f9b7833fa37166$var$fetchArticles","disable","fetchArticles","markup","map","e","url","urlToImage","title","author","description","join","insertAdjacentHTML","$b8f9b7833fa37166$var$renderMarkup","enable","addEventListener","preventDefault","query","currentTarget","elements","alert","show","resetPage","innerHTML"],"version":3,"file":"index.f3087c61.js.map"}